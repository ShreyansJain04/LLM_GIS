name: ai-tutoring-system
image: 
  name: ai-tutoring-system
  dockerfile: Dockerfile

compute:
  cpu: 2
  memory: 4GB
  gpu: 0  # Set to 1 if you need GPU acceleration

port: 8000

env:
  - name: PYTHONUNBUFFERED
    value: "1"
  - name: PORT
    value: "8000"
  # Add your API keys as secrets in Lightning AI Studio
  - name: OPENAI_API_KEY
    from_secret: OPENAI_API_KEY
  - name: ANTHROPIC_API_KEY
    from_secret: ANTHROPIC_API_KEY
  - name: GOOGLE_API_KEY
    from_secret: GOOGLE_API_KEY

volumes:
  - name: user-data
    mount_path: /app/user_data
    size: 1GB
  - name: docs
    mount_path: /app/docs
    size: 2GB
  - name: rag-cache
    mount_path: /app/rag_cache
    size: 1GB

health_check:
  path: /health
  interval: 30s
  timeout: 10s
  retries: 3

scaling:
  min_replicas: 1
  max_replicas: 3
  target_cpu: 70