# --- Netlify build settings -----------------
[build]
  # tell Netlify to cd into the React project first
  base    = "frontend"
  # skip ESLint + force CI=false so CRA treats warnings as warnings
  command = "CI=false DISABLE_ESLINT_PLUGIN=true npm run build"
  # CRA writes its output to <base>/build, so this is just 'build'
  publish = "build"

  # use a stable Node such as 20
  [build.environment]
    NODE_VERSION = "20"

# --- Proxy API calls to your local ngrok tunnel --------------
[[redirects]]
  from   = "/api/*"
  to     = "https://c0275f2199d2.ngrok-free.app/api/:splat"
  status = 200
  force  = true
